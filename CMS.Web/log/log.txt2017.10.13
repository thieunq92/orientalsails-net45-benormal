2017-10-13 10:30:11,345 [19] ERROR NHibernate.AdoNet.AbstractBatcher [(null)] <(null)> - Could not execute query: INSERT INTO os_Series (SeriesCode, CutoffDate, NoOfDays, AgencyId, BookerId) VALUES (@p0, @p1, @p2, @p3, @p4); select SCOPE_IDENTITY()
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'os_Series'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
ClientConnectionId:5f770c08-0291-4b3c-adf5-707885e0a606
Error Number:208,State:1,Class:16
2017-10-13 10:30:11,452 [19] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid object name 'os_Series'.
2017-10-13 10:36:58,178 [42] ERROR NHibernate.AdoNet.AbstractBatcher [(null)] <(null)> - Could not execute query: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
ClientConnectionId:f5fa4163-5e72-454a-ad70-db11d25fd401
Error Number:207,State:1,Class:16
2017-10-13 10:36:58,179 [42] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:36:58,179 [42] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:36:58,179 [42] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:36:58,179 [42] ERROR CMS.Core.DataAccess.CommonDao [(null)] <(null)> - could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>10/17/2017 12:00:00 AM #1>10/17/2017 12:00:00 AM #2>10/18/2017 12:00:00 AM #3>10/18/2017 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)]
NHibernate.Exceptions.GenericADOException: could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>10/17/2017 12:00:00 AM #1>10/17/2017 12:00:00 AM #2>10/18/2017 12:00:00 AM #3>10/18/2017 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)] ---> System.Data.SqlClient.SqlException: Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
   at NHibernate.Loader.Loader.GetResultSet(IDbCommand st, Boolean autoDiscoverTypes, Boolean callable, RowSelection selection, ISessionImplementor session)
   at NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   --- End of inner exception stack trace ---
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.ListIgnoreQueryCache(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.List(ISessionImplementor session, QueryParameters queryParameters, ISet`1 querySpaces, IType[] resultTypes)
   at NHibernate.Loader.Criteria.CriteriaLoader.List(ISessionImplementor session)
   at NHibernate.Impl.SessionImpl.List(CriteriaImpl criteria, IList results)
   at NHibernate.Impl.CriteriaImpl.List(IList results)
   at NHibernate.Impl.CriteriaImpl.List()
   at CMS.Core.DataAccess.CommonDao.GetObjectByCriterion(Type objectType, ICriterion criterion, Order[] orders) in d:\me\orientalsails-chat.net45\CMS.Core\DataAccess\CommonDao.cs:line 152
2017-10-13 10:37:04,038 [5] ERROR NHibernate.AdoNet.AbstractBatcher [(null)] <(null)> - Could not execute query: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
ClientConnectionId:f5fa4163-5e72-454a-ad70-db11d25fd401
Error Number:207,State:1,Class:16
2017-10-13 10:37:04,039 [5] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:37:04,039 [5] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:37:04,039 [5] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:37:04,039 [5] ERROR CMS.Core.DataAccess.CommonDao [(null)] <(null)> - could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>10/9/2017 12:00:00 AM #1>10/9/2017 12:00:00 AM #2>10/10/2017 12:00:00 AM #3>10/10/2017 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)]
NHibernate.Exceptions.GenericADOException: could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>10/9/2017 12:00:00 AM #1>10/9/2017 12:00:00 AM #2>10/10/2017 12:00:00 AM #3>10/10/2017 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)] ---> System.Data.SqlClient.SqlException: Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
   at NHibernate.Loader.Loader.GetResultSet(IDbCommand st, Boolean autoDiscoverTypes, Boolean callable, RowSelection selection, ISessionImplementor session)
   at NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   --- End of inner exception stack trace ---
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.ListIgnoreQueryCache(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.List(ISessionImplementor session, QueryParameters queryParameters, ISet`1 querySpaces, IType[] resultTypes)
   at NHibernate.Loader.Criteria.CriteriaLoader.List(ISessionImplementor session)
   at NHibernate.Impl.SessionImpl.List(CriteriaImpl criteria, IList results)
   at NHibernate.Impl.CriteriaImpl.List(IList results)
   at NHibernate.Impl.CriteriaImpl.List()
   at CMS.Core.DataAccess.CommonDao.GetObjectByCriterion(Type objectType, ICriterion criterion, Order[] orders) in d:\me\orientalsails-chat.net45\CMS.Core\DataAccess\CommonDao.cs:line 152
2017-10-13 10:37:07,742 [9] ERROR NHibernate.AdoNet.AbstractBatcher [(null)] <(null)> - Could not execute query: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
ClientConnectionId:f5fa4163-5e72-454a-ad70-db11d25fd401
Error Number:207,State:1,Class:16
2017-10-13 10:37:07,743 [9] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:37:07,743 [9] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:37:07,743 [9] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:37:07,743 [9] ERROR CMS.Core.DataAccess.CommonDao [(null)] <(null)> - could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>10/2/2017 12:00:00 AM #1>10/2/2017 12:00:00 AM #2>10/3/2017 12:00:00 AM #3>10/3/2017 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)]
NHibernate.Exceptions.GenericADOException: could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>10/2/2017 12:00:00 AM #1>10/2/2017 12:00:00 AM #2>10/3/2017 12:00:00 AM #3>10/3/2017 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)] ---> System.Data.SqlClient.SqlException: Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
   at NHibernate.Loader.Loader.GetResultSet(IDbCommand st, Boolean autoDiscoverTypes, Boolean callable, RowSelection selection, ISessionImplementor session)
   at NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   --- End of inner exception stack trace ---
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.ListIgnoreQueryCache(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.List(ISessionImplementor session, QueryParameters queryParameters, ISet`1 querySpaces, IType[] resultTypes)
   at NHibernate.Loader.Criteria.CriteriaLoader.List(ISessionImplementor session)
   at NHibernate.Impl.SessionImpl.List(CriteriaImpl criteria, IList results)
   at NHibernate.Impl.CriteriaImpl.List(IList results)
   at NHibernate.Impl.CriteriaImpl.List()
   at CMS.Core.DataAccess.CommonDao.GetObjectByCriterion(Type objectType, ICriterion criterion, Order[] orders) in d:\me\orientalsails-chat.net45\CMS.Core\DataAccess\CommonDao.cs:line 152
2017-10-13 10:37:12,382 [41] ERROR NHibernate.AdoNet.AbstractBatcher [(null)] <(null)> - Could not execute query: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
ClientConnectionId:f5fa4163-5e72-454a-ad70-db11d25fd401
Error Number:207,State:1,Class:16
2017-10-13 10:37:12,383 [41] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:37:12,383 [41] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:37:12,383 [41] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:37:12,383 [41] ERROR CMS.Core.DataAccess.CommonDao [(null)] <(null)> - could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>2/8/2018 12:00:00 AM #1>2/8/2018 12:00:00 AM #2>2/9/2018 12:00:00 AM #3>2/9/2018 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)]
NHibernate.Exceptions.GenericADOException: could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>2/8/2018 12:00:00 AM #1>2/8/2018 12:00:00 AM #2>2/9/2018 12:00:00 AM #3>2/9/2018 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)] ---> System.Data.SqlClient.SqlException: Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
   at NHibernate.Loader.Loader.GetResultSet(IDbCommand st, Boolean autoDiscoverTypes, Boolean callable, RowSelection selection, ISessionImplementor session)
   at NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   --- End of inner exception stack trace ---
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.ListIgnoreQueryCache(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.List(ISessionImplementor session, QueryParameters queryParameters, ISet`1 querySpaces, IType[] resultTypes)
   at NHibernate.Loader.Criteria.CriteriaLoader.List(ISessionImplementor session)
   at NHibernate.Impl.SessionImpl.List(CriteriaImpl criteria, IList results)
   at NHibernate.Impl.CriteriaImpl.List(IList results)
   at NHibernate.Impl.CriteriaImpl.List()
   at CMS.Core.DataAccess.CommonDao.GetObjectByCriterion(Type objectType, ICriterion criterion, Order[] orders) in d:\me\orientalsails-chat.net45\CMS.Core\DataAccess\CommonDao.cs:line 152
2017-10-13 10:37:19,137 [42] ERROR NHibernate.AdoNet.AbstractBatcher [(null)] <(null)> - Could not execute query: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
ClientConnectionId:f5fa4163-5e72-454a-ad70-db11d25fd401
Error Number:207,State:1,Class:16
2017-10-13 10:37:19,137 [42] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:37:19,138 [42] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:37:19,138 [42] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:37:19,138 [42] ERROR CMS.Core.DataAccess.CommonDao [(null)] <(null)> - could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>2/27/2018 12:00:00 AM #1>2/27/2018 12:00:00 AM #2>2/28/2018 12:00:00 AM #3>2/28/2018 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)]
NHibernate.Exceptions.GenericADOException: could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>2/27/2018 12:00:00 AM #1>2/27/2018 12:00:00 AM #2>2/28/2018 12:00:00 AM #3>2/28/2018 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)] ---> System.Data.SqlClient.SqlException: Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
   at NHibernate.Loader.Loader.GetResultSet(IDbCommand st, Boolean autoDiscoverTypes, Boolean callable, RowSelection selection, ISessionImplementor session)
   at NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   --- End of inner exception stack trace ---
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.ListIgnoreQueryCache(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.List(ISessionImplementor session, QueryParameters queryParameters, ISet`1 querySpaces, IType[] resultTypes)
   at NHibernate.Loader.Criteria.CriteriaLoader.List(ISessionImplementor session)
   at NHibernate.Impl.SessionImpl.List(CriteriaImpl criteria, IList results)
   at NHibernate.Impl.CriteriaImpl.List(IList results)
   at NHibernate.Impl.CriteriaImpl.List()
   at CMS.Core.DataAccess.CommonDao.GetObjectByCriterion(Type objectType, ICriterion criterion, Order[] orders) in d:\me\orientalsails-chat.net45\CMS.Core\DataAccess\CommonDao.cs:line 152
2017-10-13 10:37:24,733 [43] ERROR NHibernate.AdoNet.AbstractBatcher [(null)] <(null)> - Could not execute query: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
ClientConnectionId:f5fa4163-5e72-454a-ad70-db11d25fd401
Error Number:207,State:1,Class:16
2017-10-13 10:37:24,734 [43] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:37:24,734 [43] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:37:24,734 [43] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:37:24,734 [43] ERROR CMS.Core.DataAccess.CommonDao [(null)] <(null)> - could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>5/18/2018 12:00:00 AM #1>5/18/2018 12:00:00 AM #2>5/19/2018 12:00:00 AM #3>5/19/2018 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)]
NHibernate.Exceptions.GenericADOException: could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>5/18/2018 12:00:00 AM #1>5/18/2018 12:00:00 AM #2>5/19/2018 12:00:00 AM #3>5/19/2018 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)] ---> System.Data.SqlClient.SqlException: Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
   at NHibernate.Loader.Loader.GetResultSet(IDbCommand st, Boolean autoDiscoverTypes, Boolean callable, RowSelection selection, ISessionImplementor session)
   at NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   --- End of inner exception stack trace ---
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.ListIgnoreQueryCache(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.List(ISessionImplementor session, QueryParameters queryParameters, ISet`1 querySpaces, IType[] resultTypes)
   at NHibernate.Loader.Criteria.CriteriaLoader.List(ISessionImplementor session)
   at NHibernate.Impl.SessionImpl.List(CriteriaImpl criteria, IList results)
   at NHibernate.Impl.CriteriaImpl.List(IList results)
   at NHibernate.Impl.CriteriaImpl.List()
   at CMS.Core.DataAccess.CommonDao.GetObjectByCriterion(Type objectType, ICriterion criterion, Order[] orders) in d:\me\orientalsails-chat.net45\CMS.Core\DataAccess\CommonDao.cs:line 152
2017-10-13 10:39:24,399 [32] ERROR NHibernate.AdoNet.AbstractBatcher [(null)] <(null)> - Could not execute query: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
ClientConnectionId:f5fa4163-5e72-454a-ad70-db11d25fd401
Error Number:207,State:1,Class:16
2017-10-13 10:39:24,399 [32] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:39:24,399 [32] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:39:24,399 [32] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:39:24,399 [32] ERROR CMS.Core.DataAccess.CommonDao [(null)] <(null)> - could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>5/18/2018 12:00:00 AM #1>5/18/2018 12:00:00 AM #2>5/19/2018 12:00:00 AM #3>5/19/2018 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)]
NHibernate.Exceptions.GenericADOException: could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>5/18/2018 12:00:00 AM #1>5/18/2018 12:00:00 AM #2>5/19/2018 12:00:00 AM #3>5/19/2018 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)] ---> System.Data.SqlClient.SqlException: Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
   at NHibernate.Loader.Loader.GetResultSet(IDbCommand st, Boolean autoDiscoverTypes, Boolean callable, RowSelection selection, ISessionImplementor session)
   at NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   --- End of inner exception stack trace ---
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.ListIgnoreQueryCache(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.List(ISessionImplementor session, QueryParameters queryParameters, ISet`1 querySpaces, IType[] resultTypes)
   at NHibernate.Loader.Criteria.CriteriaLoader.List(ISessionImplementor session)
   at NHibernate.Impl.SessionImpl.List(CriteriaImpl criteria, IList results)
   at NHibernate.Impl.CriteriaImpl.List(IList results)
   at NHibernate.Impl.CriteriaImpl.List()
   at CMS.Core.DataAccess.CommonDao.GetObjectByCriterion(Type objectType, ICriterion criterion, Order[] orders) in d:\me\orientalsails-chat.net45\CMS.Core\DataAccess\CommonDao.cs:line 152
2017-10-13 10:39:25,979 [42] ERROR NHibernate.AdoNet.AbstractBatcher [(null)] <(null)> - Could not execute query: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
ClientConnectionId:f5fa4163-5e72-454a-ad70-db11d25fd401
Error Number:207,State:1,Class:16
2017-10-13 10:39:25,980 [42] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:39:25,980 [42] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:39:25,980 [42] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:39:25,980 [42] ERROR CMS.Core.DataAccess.CommonDao [(null)] <(null)> - could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>5/18/2018 12:00:00 AM #1>5/18/2018 12:00:00 AM #2>5/19/2018 12:00:00 AM #3>5/19/2018 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)]
NHibernate.Exceptions.GenericADOException: could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>5/18/2018 12:00:00 AM #1>5/18/2018 12:00:00 AM #2>5/19/2018 12:00:00 AM #3>5/19/2018 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)] ---> System.Data.SqlClient.SqlException: Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
   at NHibernate.Loader.Loader.GetResultSet(IDbCommand st, Boolean autoDiscoverTypes, Boolean callable, RowSelection selection, ISessionImplementor session)
   at NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   --- End of inner exception stack trace ---
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.ListIgnoreQueryCache(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.List(ISessionImplementor session, QueryParameters queryParameters, ISet`1 querySpaces, IType[] resultTypes)
   at NHibernate.Loader.Criteria.CriteriaLoader.List(ISessionImplementor session)
   at NHibernate.Impl.SessionImpl.List(CriteriaImpl criteria, IList results)
   at NHibernate.Impl.CriteriaImpl.List(IList results)
   at NHibernate.Impl.CriteriaImpl.List()
   at CMS.Core.DataAccess.CommonDao.GetObjectByCriterion(Type objectType, ICriterion criterion, Order[] orders) in d:\me\orientalsails-chat.net45\CMS.Core\DataAccess\CommonDao.cs:line 152
2017-10-13 10:39:42,858 [38] ERROR NHibernate.AdoNet.AbstractBatcher [(null)] <(null)> - Could not execute query: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
ClientConnectionId:f5fa4163-5e72-454a-ad70-db11d25fd401
Error Number:207,State:1,Class:16
2017-10-13 10:39:42,858 [38] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:39:42,858 [38] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:39:42,858 [38] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:39:42,858 [38] ERROR CMS.Core.DataAccess.CommonDao [(null)] <(null)> - could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>5/22/2018 12:00:00 AM #1>5/22/2018 12:00:00 AM #2>5/23/2018 12:00:00 AM #3>5/23/2018 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)]
NHibernate.Exceptions.GenericADOException: could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>5/22/2018 12:00:00 AM #1>5/22/2018 12:00:00 AM #2>5/23/2018 12:00:00 AM #3>5/23/2018 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)] ---> System.Data.SqlClient.SqlException: Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
   at NHibernate.Loader.Loader.GetResultSet(IDbCommand st, Boolean autoDiscoverTypes, Boolean callable, RowSelection selection, ISessionImplementor session)
   at NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   --- End of inner exception stack trace ---
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.ListIgnoreQueryCache(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.List(ISessionImplementor session, QueryParameters queryParameters, ISet`1 querySpaces, IType[] resultTypes)
   at NHibernate.Loader.Criteria.CriteriaLoader.List(ISessionImplementor session)
   at NHibernate.Impl.SessionImpl.List(CriteriaImpl criteria, IList results)
   at NHibernate.Impl.CriteriaImpl.List(IList results)
   at NHibernate.Impl.CriteriaImpl.List()
   at CMS.Core.DataAccess.CommonDao.GetObjectByCriterion(Type objectType, ICriterion criterion, Order[] orders) in d:\me\orientalsails-chat.net45\CMS.Core\DataAccess\CommonDao.cs:line 152
2017-10-13 10:43:56,910 [9] ERROR NHibernate.AdoNet.AbstractBatcher [(null)] <(null)> - Could not execute query: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
ClientConnectionId:99199521-3a80-4abc-866d-5abd18bc89cd
Error Number:207,State:1,Class:16
2017-10-13 10:43:56,959 [9] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:43:56,982 [9] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:43:56,983 [9] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:43:57,029 [9] ERROR CMS.Core.DataAccess.CommonDao [(null)] <(null)> - could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>5/22/2018 12:00:00 AM #1>5/22/2018 12:00:00 AM #2>5/23/2018 12:00:00 AM #3>5/23/2018 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)]
NHibernate.Exceptions.GenericADOException: could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>5/22/2018 12:00:00 AM #1>5/22/2018 12:00:00 AM #2>5/23/2018 12:00:00 AM #3>5/23/2018 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)] ---> System.Data.SqlClient.SqlException: Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
   at NHibernate.Loader.Loader.GetResultSet(IDbCommand st, Boolean autoDiscoverTypes, Boolean callable, RowSelection selection, ISessionImplementor session)
   at NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   --- End of inner exception stack trace ---
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.ListIgnoreQueryCache(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.List(ISessionImplementor session, QueryParameters queryParameters, ISet`1 querySpaces, IType[] resultTypes)
   at NHibernate.Loader.Criteria.CriteriaLoader.List(ISessionImplementor session)
   at NHibernate.Impl.SessionImpl.List(CriteriaImpl criteria, IList results)
   at NHibernate.Impl.CriteriaImpl.List(IList results)
   at NHibernate.Impl.CriteriaImpl.List()
   at CMS.Core.DataAccess.CommonDao.GetObjectByCriterion(Type objectType, ICriterion criterion, Order[] orders) in d:\me\orientalsails-chat.net45\CMS.Core\DataAccess\CommonDao.cs:line 152
2017-10-13 10:45:42,814 [8] ERROR NHibernate.AdoNet.AbstractBatcher [(null)] <(null)> - Could not execute query: SELECT this_.Id as Id204_2_, this_.Deleted as Deleted204_2_, this_.IsApproved as IsApproved204_2_, this_.IsEarlyBird as IsEarlyB4_204_2_, this_.Special as Special204_2_, this_.CreatedDate as CreatedD6_204_2_, this_.Deadline as Deadline204_2_, this_.ModifiedDate as Modified8_204_2_, this_.StartDate as StartDate204_2_, this_.EndDate as EndDate204_2_, this_.Amended as Amended204_2_, this_.Status as Status204_2_, this_.AccountingStatus as Account13_204_2_, this_.AgencyCode as AgencyCode204_2_, this_.TripOption as TripOption204_2_, this_.Total as Total204_2_, this_.TransferCost as Transfe17_204_2_, this_.IsTransferred as IsTrans18_204_2_, this_.Paid as Paid204_2_, this_.Note as Note204_2_, this_.PickupAddress as PickupA21_204_2_, this_.DropoffAddress as Dropoff22_204_2_, this_.SpecialRequest as Special23_204_2_, this_.CurrencyRate as Currenc24_204_2_, this_.PaidBase as PaidBase204_2_, this_.IsPaid as IsPaid204_2_, this_.IsPaymentNeeded as IsPayme27_204_2_, this_.IsCharter as IsCharter204_2_, this_.TransferAdult as Transfe29_204_2_, this_.TransferChildren as Transfe30_204_2_, this_.TransferBaby as Transfe31_204_2_, this_.Invoice as Invoice204_2_, this_.CancelPay as CancelPay204_2_, this_.GuideOnboard as GuideOn34_204_2_, this_.Guide as Guide204_2_, this_.Driver as Driver204_2_, this_.PaidDate as PaidDate204_2_, this_.LockDate as LockDate204_2_, this_.VoucherCode as Voucher39_204_2_, this_.Inspection as Inspection204_2_, this_.CutOffDays as CutOffDays204_2_, this_.IsTotalUsd as IsTotalUsd204_2_, this_.Commission as Commission204_2_, this_.IsCommissionUsd as IsCommi44_204_2_, this_.CancelledReason as Cancell45_204_2_, this_.[Group] as Group46_204_2_, this_.CreatedBy as CreatedBy204_2_, this_.ModifiedBy as ModifiedBy204_2_, this_.ConfirmedBy as Confirm49_204_2_, this_.PartnerId as PartnerId204_2_, this_.SaleId as SaleId204_2_, this_.BookerId as BookerId204_2_, this_.LockBy as LockBy204_2_, this_.TripId as TripId204_2_, this_.BatchId as BatchId204_2_, this_.CruiseId as CruiseId204_2_, this_.AgencyId as AgencyId204_2_, this_.TransferTo as TransferTo204_2_, this_.LockedId as LockedId204_2_, this_.SeriesId as SeriesId204_2_, agency1_.Id as Id170_0_, agency1_.Name as Name170_0_, agency1_.Phone as Phone170_0_, agency1_.Address as Address170_0_, agency1_.Fax as Fax170_0_, agency1_.TaxCode as TaxCode170_0_, agency1_.Email as Email170_0_, agency1_.ContractStatus as Contract8_170_0_, agency1_.Description as Descript9_170_0_, agency1_.Contract as Contract170_0_, agency1_.Accountant as Accountant170_0_, agency1_.PaymentPeriod as Payment12_170_0_, agency1_.CreatedDate as Created13_170_0_, agency1_.ModifiedDate as Modifie14_170_0_, agency1_.SaleStart as SaleStart170_0_, agency1_.Deleted as Deleted170_0_, agency1_.RoleId as RoleId170_0_, agency1_.SaleId as SaleId170_0_, agency1_.LocationId as LocationId170_0_, agency1_.CreatedBy as CreatedBy170_0_, agency1_.ModifiedBy as ModifiedBy170_0_, bookingsal2_.Id as Id197_1_, bookingsal2_.SaleId as SaleId197_1_ FROM os_Booking this_ left outer join os_Agency agency1_ on this_.AgencyId=agency1_.Id inner join v_BookingSale bookingsal2_ on this_.Id=bookingsal2_.Id WHERE (((((this_.Status = @p0 and this_.Deadline >= @p1) or this_.Status = @p2) and this_.Deleted = @p3) and not (this_.IsTransferred = @p4)) and (this_.StartDate <= @p5 and this_.EndDate > @p6))
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
ClientConnectionId:7971cc72-32c7-419d-82c4-c7221a1e1da5
Error Number:207,State:1,Class:16
2017-10-13 10:45:42,837 [8] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:45:42,866 [8] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:45:42,866 [8] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:48:19,161 [6] ERROR NHibernate.AdoNet.AbstractBatcher [(null)] <(null)> - Could not execute query: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
ClientConnectionId:7971cc72-32c7-419d-82c4-c7221a1e1da5
Error Number:207,State:1,Class:16
2017-10-13 10:48:19,181 [6] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:48:19,205 [6] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:48:19,205 [6] ERROR NHibernate.Util.ADOExceptionReporter [(null)] <(null)> - Invalid column name 'SeriesId'.
2017-10-13 10:48:19,246 [6] ERROR CMS.Core.DataAccess.CommonDao [(null)] <(null)> - could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>5/22/2018 12:00:00 AM #1>5/22/2018 12:00:00 AM #2>5/23/2018 12:00:00 AM #3>5/23/2018 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)]
NHibernate.Exceptions.GenericADOException: could not execute query
[ SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4) ]
Positional parameters:  #0>5/22/2018 12:00:00 AM #1>5/22/2018 12:00:00 AM #2>5/23/2018 12:00:00 AM #3>5/23/2018 12:00:00 AM #4>Portal.Modules.OrientalSails.Domain.Cruise
[SQL: SELECT this_.Id as Id172_1_, this_.Start as Start172_1_, this_.[End] as End3_172_1_, this_.Description as Descript4_172_1_, this_.CruiseId as CruiseId172_1_, booking2_.Id as Id204_0_, booking2_.Deleted as Deleted204_0_, booking2_.IsApproved as IsApproved204_0_, booking2_.IsEarlyBird as IsEarlyB4_204_0_, booking2_.Special as Special204_0_, booking2_.CreatedDate as CreatedD6_204_0_, booking2_.Deadline as Deadline204_0_, booking2_.ModifiedDate as Modified8_204_0_, booking2_.StartDate as StartDate204_0_, booking2_.EndDate as EndDate204_0_, booking2_.Amended as Amended204_0_, booking2_.Status as Status204_0_, booking2_.AccountingStatus as Account13_204_0_, booking2_.AgencyCode as AgencyCode204_0_, booking2_.TripOption as TripOption204_0_, booking2_.Total as Total204_0_, booking2_.TransferCost as Transfe17_204_0_, booking2_.IsTransferred as IsTrans18_204_0_, booking2_.Paid as Paid204_0_, booking2_.Note as Note204_0_, booking2_.PickupAddress as PickupA21_204_0_, booking2_.DropoffAddress as Dropoff22_204_0_, booking2_.SpecialRequest as Special23_204_0_, booking2_.CurrencyRate as Currenc24_204_0_, booking2_.PaidBase as PaidBase204_0_, booking2_.IsPaid as IsPaid204_0_, booking2_.IsPaymentNeeded as IsPayme27_204_0_, booking2_.IsCharter as IsCharter204_0_, booking2_.TransferAdult as Transfe29_204_0_, booking2_.TransferChildren as Transfe30_204_0_, booking2_.TransferBaby as Transfe31_204_0_, booking2_.Invoice as Invoice204_0_, booking2_.CancelPay as CancelPay204_0_, booking2_.GuideOnboard as GuideOn34_204_0_, booking2_.Guide as Guide204_0_, booking2_.Driver as Driver204_0_, booking2_.PaidDate as PaidDate204_0_, booking2_.LockDate as LockDate204_0_, booking2_.VoucherCode as Voucher39_204_0_, booking2_.Inspection as Inspection204_0_, booking2_.CutOffDays as CutOffDays204_0_, booking2_.IsTotalUsd as IsTotalUsd204_0_, booking2_.Commission as Commission204_0_, booking2_.IsCommissionUsd as IsCommi44_204_0_, booking2_.CancelledReason as Cancell45_204_0_, booking2_.[Group] as Group46_204_0_, booking2_.CreatedBy as CreatedBy204_0_, booking2_.ModifiedBy as ModifiedBy204_0_, booking2_.ConfirmedBy as Confirm49_204_0_, booking2_.PartnerId as PartnerId204_0_, booking2_.SaleId as SaleId204_0_, booking2_.BookerId as BookerId204_0_, booking2_.LockBy as LockBy204_0_, booking2_.TripId as TripId204_0_, booking2_.BatchId as BatchId204_0_, booking2_.CruiseId as CruiseId204_0_, booking2_.AgencyId as AgencyId204_0_, booking2_.TransferTo as TransferTo204_0_, booking2_.LockedId as LockedId204_0_, booking2_.SeriesId as SeriesId204_0_ FROM os_Locked this_ left outer join os_Booking booking2_ on this_.Id=booking2_.Id WHERE (((this_.Start <= @p0 and this_.[End] >= @p1) or (this_.Start < @p2 and this_.[End] > @p3)) and this_.CruiseId = @p4)] ---> System.Data.SqlClient.SqlException: Invalid column name 'SeriesId'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(IDbCommand cmd)
   at NHibernate.Loader.Loader.GetResultSet(IDbCommand st, Boolean autoDiscoverTypes, Boolean callable, RowSelection selection, ISessionImplementor session)
   at NHibernate.Loader.Loader.DoQuery(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoQueryAndInitializeNonLazyCollections(ISessionImplementor session, QueryParameters queryParameters, Boolean returnProxies)
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   --- End of inner exception stack trace ---
   at NHibernate.Loader.Loader.DoList(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.ListIgnoreQueryCache(ISessionImplementor session, QueryParameters queryParameters)
   at NHibernate.Loader.Loader.List(ISessionImplementor session, QueryParameters queryParameters, ISet`1 querySpaces, IType[] resultTypes)
   at NHibernate.Loader.Criteria.CriteriaLoader.List(ISessionImplementor session)
   at NHibernate.Impl.SessionImpl.List(CriteriaImpl criteria, IList results)
   at NHibernate.Impl.CriteriaImpl.List(IList results)
   at NHibernate.Impl.CriteriaImpl.List()
   at CMS.Core.DataAccess.CommonDao.GetObjectByCriterion(Type objectType, ICriterion criterion, Order[] orders) in d:\me\orientalsails-chat.net45\CMS.Core\DataAccess\CommonDao.cs:line 152
